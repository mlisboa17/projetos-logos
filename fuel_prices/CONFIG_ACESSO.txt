â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              CONFIGURAÃ‡ÃƒO DE ACESSO - FUEL PRICES                â•‘
â•‘                  Projeto Logus - Grupo Lisboa                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”’ REGRA PRINCIPAL:
-------------------
TODO O ACESSO AO SISTEMA DE COMBUSTÃVEIS DEVE SER PELO LOGUS

âŒ NÃƒO ACESSAR DIRETAMENTE:
   http://localhost:8000/fuel/  â† BLOQUEADO

âœ… ACESSO CORRETO (via Logus):
   http://localhost:8000/logus/fuel/
   http://localhost:8000/logus/fuel/por-posto/


ğŸ“ CONFIGURAÃ‡ÃƒO NECESSÃRIA:
---------------------------

1ï¸âƒ£ NO ARQUIVO: ProjetoLogus/urls.py
   
   urlpatterns = [
       path('admin/', admin.site.urls),
       path('logus/', include([
           # Outras rotas do Logus...
           path('fuel/', include('fuel_prices.urls')),  # â† Fuel dentro do Logus
       ])),
   ]


2ï¸âƒ£ ALTERNATIVA (se Logus tiver arquivo separado):
   
   Se existe um arquivo logus/urls.py, adicione lÃ¡:
   
   # logus/urls.py
   from django.urls import path, include
   
   urlpatterns = [
       # Outras rotas do Logus
       path('fuel/', include('fuel_prices.urls')),  # â† ADICIONAR AQUI
   ]


3ï¸âƒ£ ESTRUTURA DE URLS:
   
   ProjetoLogus/urls.py:
   â”œâ”€â”€ admin/
   â””â”€â”€ logus/  â† Tudo passa pelo Logus
       â”œâ”€â”€ dashboard/
       â”œâ”€â”€ vendas/
       â”œâ”€â”€ estoque/
       â””â”€â”€ fuel/  â† CombustÃ­veis aqui dentro


4ï¸âƒ£ PROTEÃ‡ÃƒO DE ACESSO DIRETO:
   
   Adicione no fuel_prices/views.py (inÃ­cio do arquivo):
   
   from django.contrib.auth.decorators import login_required
   
   @login_required  # â† Exige login
   def dashboard_vibra(request):
       # ... cÃ³digo existente
   
   @login_required  # â† Exige login
   def dashboard_por_posto(request):
       # ... cÃ³digo existente


5ï¸âƒ£ URLS FINAIS DISPONÃVEIS:
   
   âœ… http://localhost:8000/logus/fuel/
      â†’ Dashboard por produto (requer login)
   
   âœ… http://localhost:8000/logus/fuel/por-posto/
      â†’ Dashboard por posto (requer login)


6ï¸âƒ£ INTEGRAÃ‡ÃƒO COM MENU DO LOGUS:
   
   No template principal do Logus, adicione:
   
   <nav>
       <a href="/logus/dashboard/">Dashboard</a>
       <a href="/logus/vendas/">Vendas</a>
       <a href="/logus/estoque/">Estoque</a>
       <a href="/logus/fuel/">CombustÃ­veis</a>  â† NOVO ITEM
   </nav>


7ï¸âƒ£ PERMISSÃ•ES (opcional):
   
   Criar grupo "Gestores de CombustÃ­vel" com acesso exclusivo:
   
   # No Django Admin:
   1. Criar grupo: "Gestores de CombustÃ­vel"
   2. Adicionar usuÃ¡rios ao grupo
   3. Modificar views para verificar grupo:
   
   from django.contrib.auth.decorators import user_passes_test
   
   def is_combustivel_manager(user):
       return user.groups.filter(name='Gestores de CombustÃ­vel').exists()
   
   @user_passes_test(is_combustivel_manager)
   def dashboard_vibra(request):
       # ... cÃ³digo


ğŸ¯ RESULTADO ESPERADO:
----------------------

âœ… UsuÃ¡rio acessa: http://localhost:8000/logus/
âœ… Faz login no sistema Logus
âœ… VÃª menu com opÃ§Ã£o "CombustÃ­veis"
âœ… Clica e acessa: http://localhost:8000/logus/fuel/
âœ… VÃª dashboard integrado no layout do Logus


ğŸ“ ARQUIVOS DO FUEL_PRICES:
---------------------------
âœ… models.py         â†’ PostoVibra, PrecoVibra
âœ… views.py          â†’ dashboard_vibra, dashboard_por_posto
âœ… urls.py           â†’ Rotas internas ('', 'por-posto/')
âœ… admin.py          â†’ Interface administrativa
âœ… templates/        â†’ dashboard_vibra.html, dashboard_por_posto.html
âœ… scrapers/         â†’ vibra_scraper.py


ğŸ”„ SCRAPER AUTOMÃTICO:
----------------------
O scraper continua funcionando normalmente:

cd c:\Users\mlisb\OneDrive\Desktop\ProjetoLogus\fuel_prices\scrapers
python vibra_scraper.py

Dados sÃ£o salvos no banco Django e aparecem automaticamente no dashboard.


ğŸ“ SUPORTE:
-----------
Se tiver dÃºvidas sobre a integraÃ§Ã£o, verifique:
- ProjetoLogus/urls.py (roteamento principal)
- logus/urls.py (se existir - roteamento do mÃ³dulo Logus)
- fuel_prices/views.py (adicionar @login_required)

